<div *ngIf="percentage | async as pct">
    <mat-progress-bar mode="determinate" [value]="pct" max="100"></mat-progress-bar>
    {{ pct | number }}%
</div>

<div *ngIf="(snapshot | async) as snap">
    <div>
        {{ snap.bytesTransferred / 1024 | number:'1.0-1' }} of {{ snap.totalBytes / 1024 | number:'1.0-1' }} KB, {{ file.name }}
    </div>
    <button mat-raised-button (click)="task.pause()" [disabled]="!isActive(snap)" [hidden]="!isActive(snap)">หยุด</button>
    <button mat-raised-button (click)="task.cancel()" [disabled]="!isActive(snap)" [hidden]="!isActive(snap)">ยกเลิก</button>
    <button mat-raised-button (click)="task.resume()" [disabled]="!(snap?.state === 'paused')" [hidden]="!isActive(snap)">ดำเนินการต่อ</button>
</div>